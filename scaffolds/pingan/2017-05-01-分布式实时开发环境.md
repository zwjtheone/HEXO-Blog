# 如何打造实时开发环境

## 口袋2.0时代

我们的打包流程是这样的

![](https://ww1.sinaimg.cn/large/006tKfTcgy1ffm63e1514j311o16hwmf.jpg)

## 口袋3.0时代

我们的打包流程是这样的

![](https://ww1.sinaimg.cn/large/006tKfTcgy1ffm653zlr2j315m19g47b.jpg)

## 现在

![](https://ww4.sinaimg.cn/large/006tKfTcgy1ffm65r1qxgj30i50tm0x1.jpg)

## 数据对比

![](https://ww3.sinaimg.cn/large/006tNbRwgy1ffm7ialdc4j30wh0dw3zh.jpg)

单次对比2.0时代提升速度**600倍**
单次对比3.0时代提升速度**160倍**

这是什么概念：

如果按一个一万工资每个月计算，每天500计算，每小时62.8，每分钟约1元

2.0时代，一个月一个版本，按每天部署五次的频率，每个版本二周测试时间（**30分钟*5次*10天=1500分钟=25小时=1500元**），按照10人团队算**15000元**，一年公司就至少要付15000*12 = **30万以上**

目前3.0时代，两周一个版本，所以测试时间同样是一个月两周测试（**10分钟*5次*10天=500分钟=8.3小时=500元**），按照10人团队算**5000元**，一年：**5000*12 = 6万以上**

现在我们算一下实时（**3秒=0.05分钟*5次*10天=2.5分钟=2.5元**），10人团队算**25元**，一年：**25*12 = 300元**

> 对比2.0时代少了297000元
> 对比目前的3.0少了57000元

## 我们该怎么做呢？

<video src="jietu.mp4" width="100%" controls="controls">
Your browser does not support the video tag.
</video>

具体步骤：

目前：feature/20170601 已开启实时热更新功能

```
npm run start:auto
```

开发人员clone两份代码库，一个为自己代码开发，一个为代码环境部署(这个为一直开启给测试人员访问)，注意不要和你开发的端口冲突

当你在开发库上修改完bug，提交到远程，然后在另外的分支直接pull，不用停止服务进程即可在手机上实时刷新（仅代码）

注意点：

1. 必须开启模块热更新
2. 测试手机和使用者电脑连接的为统一热点



